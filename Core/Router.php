<?php

namespace Core;

class Router
{
    /**
     * Recoit l'URL entrÃ©e par l'utilisateur (par exemple : /home) et invoke le controller homonime
     */
    public function dispatch(string $url): void
    {
        $url = parse_url($url, PHP_URL_PATH);

        $url = trim($url, '/');
        $urlParts = explode('/', $url);

        $className = $urlParts[0];
        $methodName = $urlParts[1];

        $className = ucfirst($className);
        $className = "App\\Controllers\\{$className}Controller";

        $controller = new $className;
        $controller->$methodName();
    }
}
